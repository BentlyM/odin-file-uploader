<!DOCTYPE html>
<html>
  <head>
    <title>File Uploader</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <header>
      <h1>Welcome, <%= user.username %></h1>
      <form id="logout-form" action="/logout" method="POST">
        <button type="submit">Logout</button>
      </form>
    </header>

    <div class="upload-options">
      <form id="file-upload-form" enctype="multipart/form-data" action="/upload" method="post" class="hidden">
        <input type="file" name="file" id="file" required/>
        <button type="submit">Upload File</button>
        <button type="button" id="fileFormCancel">Cancel</button>
      </form>

      <form id="folder-upload-form" action="/addfolder" method="post" class="hidden">
        <label for="folderName">
          Folder Name:
          <input type="text" name="folderName" id="folder" style="width: fit-content;" required/>
        </label>
        <button type="submit">Upload Folder</button>
        <button type="button" id="folderFormCancel">Cancel</button>
      </form>

      <button id="addFileButton">📄 Upload File</button>
      <button id="addFolderButton">📁 Add Folder</button>
    </div>
    
    <div id="uploaded-files">
      <h2>Uploaded Files:</h2>
      <ul>
        <% if (uploadedFiles.length !== 0){ %>
        <% uploadedFiles.forEach(file => { %>
        <li><a href="/files/<%= file.uniqueName %>"><%= file.name %></a></li>
        <% }) %>
        <% }else{ %>
          <li>No Files...</li>
          <% } %>
      </ul>
    </div>

    <script src="/js/script.js"></script>
  </body>
</html>
